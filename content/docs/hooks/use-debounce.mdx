---
title: useDebounce
description: A hook for debouncing callback functions with cancel functionality
---

import { ComponentPreview } from '@/components/component-preview';
import { UseDebounceBasic, UseDebounceWithCancel } from '@/components/examples/hook-examples';

## Preview

### Basic Debounce

<ComponentPreview
  preview={<UseDebounceBasic />}
  code={`import { useState } from 'react';
import { useDebounce } from '@/components/hooks/use-debounce';
import { Input } from '@/components/ui/input';

export default function Example() {
  const [value, setValue] = useState('');
  const [debouncedValue, setDebouncedValue] = useState('');

  const debouncedUpdate = useDebounce((val: string) => {
    setDebouncedValue(val);
  }, 500);

  return (
    <div className="space-y-4">
      <Input
        value={value}
        onChange={(e) => {
          setValue(e.target.value);
          debouncedUpdate(e.target.value);
        }}
        placeholder="Type to see debouncing..."
      />
      <div>
        <p>Current: {value}</p>
        <p>Debounced (500ms): {debouncedValue}</p>
      </div>
    </div>
  );
}`}
/>

### With Cancel

<ComponentPreview
  preview={<UseDebounceWithCancel />}
  code={`import { useState } from 'react';
import { useDebounce } from '@/components/hooks/use-debounce';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';

export default function Example() {
  const [value, setValue] = useState('');
  const [results, setResults] = useState<string[]>([]);

  const debouncedSearch = useDebounce((val: string) => {
    if (val) {
      setResults([\`Result for "\${val}"\`]);
    } else {
      setResults([]);
    }
  }, 300);

  const handleReset = () => {
    setValue('');
    setResults([]);
    debouncedSearch.cancel();
  };

  return (
    <div className="space-y-4">
      <div className="flex gap-2">
        <Input
          value={value}
          onChange={(e) => {
            setValue(e.target.value);
            debouncedSearch(e.target.value);
          }}
          placeholder="Search..."
        />
        <Button onClick={handleReset}>Reset</Button>
      </div>
      {results.length > 0 && (
        <div>
          {results.map((result, i) => (
            <p key={i}>{result}</p>
          ))}
        </div>
      )}
    </div>
  );
}`}
/>

## Installation

```bash
npx shadcn@latest add @shoscn/use-debounce
```

## Usage

```tsx
import { useDebounce } from '@/components/hooks/use-debounce';

export default function SearchInput() {
  const handleSearch = (value: string) => {
    console.log('Searching for:', value);
  };

  const debouncedSearch = useDebounce(handleSearch, 300);

  return (
    <input
      type="text"
      onChange={(e) => debouncedSearch(e.target.value)}
      placeholder="Search..."
    />
  );
}
```

## API Reference

### Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| `callback` | `(value: string) => void` | The function to debounce |
| `delay` | `number` | The delay in milliseconds |

### Return Value

Returns a debounced function with a `cancel` method attached to it.

| Property | Type | Description |
| --- | --- | --- |
| `debouncedFn` | `(value: string) => void` | The debounced function |
| `cancel` | `() => void` | Cancels any pending debounced calls |

## Examples

### Basic Usage

```tsx
import { useDebounce } from '@/components/hooks/use-debounce';

export default function Example() {
  const handleChange = (value: string) => {
    // This will only be called 300ms after the user stops typing
    console.log(value);
  };

  const debouncedChange = useDebounce(handleChange, 300);

  return (
    <input
      type="text"
      onChange={(e) => debouncedChange(e.target.value)}
    />
  );
}
```

### With Cancel

```tsx
import { useDebounce } from '@/components/hooks/use-debounce';

export default function Example() {
  const handleSearch = (value: string) => {
    // Perform search
  };

  const debouncedSearch = useDebounce(handleSearch, 500);

  const handleReset = () => {
    // Cancel any pending search
    debouncedSearch.cancel();
  };

  return (
    <div>
      <input
        type="text"
        onChange={(e) => debouncedSearch(e.target.value)}
      />
      <button onClick={handleReset}>Reset</button>
    </div>
  );
}
```
